[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/api/admin/index.js",
    "content": "import axios from 'axios';\r\nimport Room from '../room';\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\nexport default class Admin {\r\n  /**\r\n   * @private\r\n   * @param {Api} api\r\n   */\r\n  constructor(api) {\r\n    /**\r\n     * @private\r\n     * @type {ApiConfig}\r\n     * */\r\n    this.api = api;\r\n    /**\r\n     * @private\r\n     * @type {Boolean}\r\n     */\r\n    this.isAdmin = true;\r\n    /** @type {Room} */\r\n    this.room = new Room(this.api);\r\n    this.room.isAdmin = this.isAdmin;\r\n  }\r\n\r\n  /**\r\n   * Get clients list\r\n   * @param {Number} [limit = 10]\r\n   * @param {{nickname: Object}} [q = {}]\r\n   * @returns {Promise<ClientData[]|Error>}\r\n   */\r\n  getClients(limit = 10, q = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/admin/clients`;\r\n      let data = {\r\n        limit,\r\n        q\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update or create client\r\n   * @param {Object} clientInfo\r\n   * @param {String} [clientInfo._id]\r\n   * @param {String} [clientInfo.avatarUrl] 大頭網址\r\n   * @param {String} [clientInfo.email]\r\n   * @param {String} [clientInfo.nickname] 暱稱\r\n   * @param {String} [clientInfo.publicKey] 訊息加密公鑰\r\n   * @returns {Promise<ClientData|Error>}\r\n   */\r\n  updateClient(clientInfo) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/admin/clients`;\r\n      let data = clientInfo;\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Bind token to client\r\n   * @param {String} id Client id\r\n   * @param {String} token\r\n   * @returns {Promise<TokenData|Error>}\r\n   */\r\n  bindToken(id, token) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/admin/clients/${id}/token/`;\r\n      let data = {\r\n        token\r\n      };\r\n\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .put(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Revoke token to client\r\n   * @param {String} id Client id\r\n   * @param {String} token\r\n   * @returns {Promise<{}|Error>}\r\n   */\r\n  revokeToken(id, token) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/admin/clients/${id}/token/`;\r\n      let data = {\r\n        token\r\n      };\r\n\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .delete(url, {\r\n          data: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get connection count\r\n   * @returns {Promise<{count: Number}|Error>}\r\n   */\r\n  getConnectionCount() {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/admin/connection-count`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate token\r\n   * @param {Number} [size = 16]\r\n   * @returns {Promise<{token: String}|Error>}\r\n   */\r\n  generateToken(size = 16) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/auths/token`;\r\n      let data = {\r\n        size\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get token list\r\n   * @returns {Promise<{totalCount: Number, data: TokenData[]}|Error>}\r\n   */\r\n  getTokenList() {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/auths/tokens`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Push to tokens\r\n   * @param {String} type ios or ???\r\n   * @param {String[]} tokens\r\n   * @param {PushPayload} payload\r\n   * @returns {Promise<null|Error>}\r\n   */\r\n  pushToTokens(type, tokens, payload) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/push/push2tokens`;\r\n      let data = {\r\n        type,\r\n        tokens,\r\n        payload\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Push to clients\r\n   * @param {String[]} clients\r\n   * @param {PushPayload} payload\r\n   * @returns {Promise<null|Error>}\r\n   */\r\n  pushToClients(clients, payload) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/push/push2clients`;\r\n      let data = {\r\n        clients,\r\n        payload\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/admin/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "class",
    "name": "Admin",
    "memberof": "src/api/admin/index.js",
    "static": true,
    "longname": "src/api/admin/index.js~Admin",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/admin/index.js",
    "importStyle": "Admin",
    "description": "",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 50,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 51,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/admin/index.js~Admin",
    "static": false,
    "longname": "src/api/admin/index.js~Admin#api",
    "access": "private",
    "description": "",
    "lineNumber": 17,
    "type": {
      "nullable": null,
      "types": [
        "ApiConfig"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 52,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/admin/index.js~Admin",
    "static": false,
    "longname": "src/api/admin/index.js~Admin#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 53,
    "kind": "member",
    "name": "room",
    "memberof": "src/api/admin/index.js~Admin",
    "static": false,
    "longname": "src/api/admin/index.js~Admin#room",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "type": {
      "nullable": null,
      "types": [
        "Room"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 54,
    "kind": "method",
    "name": "getClients",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#getClients",
    "access": "public",
    "description": "Get clients list",
    "lineNumber": 34,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData[]|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 10",
        "defaultRaw": 10,
        "name": "limit",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "{nickname: Object}"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " {}",
        "defaultRaw": {},
        "name": "q",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData[]|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "updateClient",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#updateClient",
    "access": "public",
    "description": "Update or create client",
    "lineNumber": 72,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "clientInfo",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientInfo._id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientInfo.avatarUrl",
        "description": "大頭網址"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientInfo.email",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientInfo.nickname",
        "description": "暱稱"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientInfo.publicKey",
        "description": "訊息加密公鑰"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 56,
    "kind": "method",
    "name": "bindToken",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#bindToken",
    "access": "public",
    "description": "Bind token to client",
    "lineNumber": 102,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<TokenData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Client id"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<TokenData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 57,
    "kind": "method",
    "name": "revokeToken",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#revokeToken",
    "access": "public",
    "description": "Revoke token to client",
    "lineNumber": 135,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Client id"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 58,
    "kind": "method",
    "name": "getConnectionCount",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#getConnectionCount",
    "access": "public",
    "description": "Get connection count",
    "lineNumber": 167,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{count: Number}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{count: Number}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 59,
    "kind": "method",
    "name": "generateToken",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#generateToken",
    "access": "public",
    "description": "Generate token",
    "lineNumber": 197,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{token: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 16",
        "defaultRaw": 16,
        "name": "size",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{token: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 60,
    "kind": "method",
    "name": "getTokenList",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#getTokenList",
    "access": "public",
    "description": "Get token list",
    "lineNumber": 228,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{totalCount: Number, data: TokenData[]}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{totalCount: Number, data: TokenData[]}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 61,
    "kind": "method",
    "name": "pushToTokens",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#pushToTokens",
    "access": "public",
    "description": "Push to tokens",
    "lineNumber": 260,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<null|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "ios or ???"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "tokens",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "PushPayload"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<null|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 62,
    "kind": "method",
    "name": "pushToClients",
    "memberof": "src/api/admin/index.js~Admin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/admin/index.js~Admin#pushToClients",
    "access": "public",
    "description": "Push to clients",
    "lineNumber": 294,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<null|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "clients",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "PushPayload"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<null|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 63,
    "kind": "file",
    "name": "src/api/auth/index.js",
    "content": "import axios from 'axios';\n/**\n * @import * from '@/src/typedef';\n */\n\nexport default class Auth {\n  /**\n   * @private\n   * @param {Api} api\n   */\n  constructor(api) {\n    /**\n     * @private\n     * @type {Api}\n     */\n    this.api = api;\n    /**\n     * @private\n     * @type {Boolean}\n     */\n    this.isAdmin = false;\n  }\n\n  /**\n   * Create/Update user info and return token\n   * @param {Object} [info]\n   * @param {String} [info.id] Client id\n   * @param {String} [info.nickname]\n   * @param {String} [info.avatarUrl]\n   * @param {String} [info.email]\n   * @param {String} [info.publicKey]\n   * @returns {Promise<{token: String}|Error>}\n   */\n  sign(info = {}) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.authBase}/sign`;\n      let data = info;\n      let headers = {};\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300) {\n              resolve(res.data);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Verify token and get client id\n   * @param {String} token\n   * @returns {Promise<{id: String, nickname: String, avatarUrl: String, email:String, publicKey:String}|Error>}\n   */\n  verify(token) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.authBase}/verify`;\n      let data = {\n        token\n      };\n      let headers = {};\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300) {\n              resolve(res.data);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n}\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/auth/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 64,
    "kind": "class",
    "name": "Auth",
    "memberof": "src/api/auth/index.js",
    "static": true,
    "longname": "src/api/auth/index.js~Auth",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/auth/index.js",
    "importStyle": "Auth",
    "description": "",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 65,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/auth/index.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/auth/index.js~Auth#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/auth/index.js~Auth",
    "static": false,
    "longname": "src/api/auth/index.js~Auth#api",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 67,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/auth/index.js~Auth",
    "static": false,
    "longname": "src/api/auth/index.js~Auth#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 68,
    "kind": "method",
    "name": "sign",
    "memberof": "src/api/auth/index.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/auth/index.js~Auth#sign",
    "access": "public",
    "description": "Create/Update user info and return token",
    "lineNumber": 34,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{token: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "info",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.id",
        "description": "Client id"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.nickname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.avatarUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.email",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.publicKey",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{token: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 69,
    "kind": "method",
    "name": "verify",
    "memberof": "src/api/auth/index.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/auth/index.js~Auth#verify",
    "access": "public",
    "description": "Verify token and get client id",
    "lineNumber": 63,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{id: String, nickname: String, avatarUrl: String, email:String, publicKey:String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{id: String, nickname: String, avatarUrl: String, email:String, publicKey:String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 70,
    "kind": "file",
    "name": "src/api/file/index.js",
    "content": "import axios from 'axios';\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\nexport default class File {\r\n  /**\r\n   * @private\r\n   * @param {Api} api\r\n   */\r\n  constructor(api) {\r\n    /**\r\n     * @private\r\n     * @type {Api}\r\n     * */\r\n    this.api = api;\r\n    /**\r\n     * @private\r\n     * @type {Boolean}\r\n     */\r\n    this.isAdmin = false;\r\n  }\r\n\r\n  /**\r\n   * Upload File\r\n   * @param {String} bucketName\r\n   * @param {File} file\r\n   * @param {Object} extra\r\n   * @param {Function} progress\r\n   * @returns {Promise<String|Error>}\r\n   */\r\n  upload(bucketName, file, extra = {}, progress = e => {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/files/${encodeURIComponent(\r\n        bucketName\r\n      )}`;\r\n      let data = new FormData();\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      data.append('extra', JSON.stringify(extra));\r\n      data.append('file', file);\r\n      // headers = Object.assign(headers, data.getHeaders());\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers,\r\n          onUploadProgress: progress\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(\r\n                `${this.api.config.domain}/files/${bucketName}/${\r\n                  res.data.result.id\r\n                }`\r\n              );\r\n            } else {\r\n              resolve(res.data);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get File metadata\r\n   * @param {String} bucketName\r\n   * @param {String} fileId\r\n   * @returns {Promise<{AcceptRanges: String, LastModified: String, ContentLength: Number, ETag: String, ContentType: String, Metadata: Object[], extra: Object[]|Error>}\r\n   */\r\n  getMetadata(bucketName, fileId) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/files/${encodeURIComponent(\r\n        bucketName\r\n      )}/${fileId}/metadata`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Downliad File\r\n   * @param {String} bucketName\r\n   * @param {String} fileId\r\n   * @param {Object} appendHeaders\r\n   * @param {Function} progress\r\n   */\r\n  download(bucketName, fileId, appendHeaders = {}, progress = e => {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/files/${encodeURIComponent(\r\n        bucketName\r\n      )}/${fileId}`;\r\n      let data = {\r\n        signedUrlOnly: 1\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      headers = Object.assign(headers, appendHeaders);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          async res => {\r\n            if (res.status >= 200 && res.status < 300) {\r\n              try {\r\n                let resFile = await this.downloadFileFormRealUrl(\r\n                  res.data.result.url,\r\n                  appendHeaders,\r\n                  progress\r\n                );\r\n                resolve(resFile);\r\n              } catch (e) {\r\n                reject(e);\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n  /**\r\n   * Downliad File\r\n   * @private\r\n   * @param {String} url\r\n   * @param {Object} appendHeaders\r\n   * @param {Function} progress\r\n   */\r\n  downloadFileFormRealUrl(url, appendHeaders = {}, progress = e => {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      headers = Object.assign(headers, appendHeaders);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers,\r\n          onDownloadProgress: progress,\r\n          responseType: 'arraybuffer'\r\n        })\r\n        .then(\r\n          async res => {\r\n            if (res.status >= 200 && res.status < 300) {\r\n              resolve(res);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/file/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 71,
    "kind": "class",
    "name": "File",
    "memberof": "src/api/file/index.js",
    "static": true,
    "longname": "src/api/file/index.js~File",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/file/index.js",
    "importStyle": "File",
    "description": "",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 72,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/file/index.js~File",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/file/index.js~File#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 73,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/file/index.js~File",
    "static": false,
    "longname": "src/api/file/index.js~File#api",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/file/index.js~File",
    "static": false,
    "longname": "src/api/file/index.js~File#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 75,
    "kind": "method",
    "name": "upload",
    "memberof": "src/api/file/index.js~File",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/file/index.js~File#upload",
    "access": "public",
    "description": "Upload File",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<String|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "bucketName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "File"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "extra",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "progress",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<String|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 76,
    "kind": "method",
    "name": "getMetadata",
    "memberof": "src/api/file/index.js~File",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/file/index.js~File#getMetadata",
    "access": "public",
    "description": "Get File metadata",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{AcceptRanges: String, LastModified: String, ContentLength: Number, ETag: String, ContentType: String, Metadata: Object[], extra: Object[]|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "bucketName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "fileId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{AcceptRanges: String, LastModified: String, ContentLength: Number, ETag: String, ContentType: String, Metadata: Object[], extra: Object[]|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 77,
    "kind": "method",
    "name": "download",
    "memberof": "src/api/file/index.js~File",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/file/index.js~File#download",
    "access": "public",
    "description": "Downliad File",
    "lineNumber": 109,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "bucketName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "fileId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "appendHeaders",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "progress",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 78,
    "kind": "method",
    "name": "downloadFileFormRealUrl",
    "memberof": "src/api/file/index.js~File",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/file/index.js~File#downloadFileFormRealUrl",
    "access": "private",
    "description": "Downliad File",
    "lineNumber": 155,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "appendHeaders",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "progress",
        "description": ""
      }
    ],
    "ignore": true,
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 79,
    "kind": "file",
    "name": "src/api/index.js",
    "content": "import Admin from './admin';\r\nimport Auth from './auth';\r\nimport File from './file';\r\nimport Me from './me';\r\nimport Message from './message';\r\nimport Room from './room';\r\nimport Url from './url';\r\nimport lib from '../lib';\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\nexport default class IMKitApi {\r\n  /**\r\n   * 建立 API 物件\r\n   * @param {ApiConfig} config\r\n   */\r\n  constructor(config) {\r\n    /** @type {ApiConfig} */\r\n    this.config = config;\r\n    /** @type {Admin} */\r\n    this.admin = new Admin(this);\r\n    /** @type {Auth} */\r\n    this.auth = new Auth(this);\r\n    /** @type {File} */\r\n    this.file = new File(this);\r\n    /** @type {Me} */\r\n    this.me = new Me(this);\r\n    /** @type {Message} */\r\n    this.message = new Message(this);\r\n    /** @type {Room} */\r\n    this.room = new Room(this);\r\n    /** @type {Url} */\r\n    this.url = new Url(this);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Boolean} isAdmin\r\n   */\r\n  getHeader(isAdmin = false) {\r\n    let header;\r\n\r\n    if (isAdmin) {\r\n      header = {\r\n        API_KEY: this.config.apiKey\r\n      };\r\n    } else {\r\n      header = {\r\n        'IM-Authorization': this.config.token,\r\n        CLIENT_KEY: this.config.clientKey\r\n      };\r\n    }\r\n    return header;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Object} error\r\n   */\r\n  onError(error) {\r\n    if (error.response) {\r\n      if (error.response.data.RC) {\r\n        this.config.events.onAjaxError(error.response.data);\r\n      } else {\r\n        this.config.events.onAjaxError({\r\n          RC: error.response.status,\r\n          RM: error.response.statusText\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 產生 RSA 金鑰，暫不支援 node.js\r\n   * @returns {Promise<{publicKey: String, privateKey: String}|Error>}\r\n   */\r\n  generateRsaKey() {\r\n    return lib.message.generateRsaKey();\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 80,
    "kind": "class",
    "name": "IMKitApi",
    "memberof": "src/api/index.js",
    "static": true,
    "longname": "src/api/index.js~IMKitApi",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/index.js",
    "importStyle": "IMKitApi",
    "description": "",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 81,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/index.js~IMKitApi",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/index.js~IMKitApi#constructor",
    "access": "public",
    "description": "建立 API 物件",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "ApiConfig"
        ],
        "spread": false,
        "optional": false,
        "name": "config",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 82,
    "kind": "member",
    "name": "config",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#config",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "type": {
      "nullable": null,
      "types": [
        "ApiConfig"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "admin",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#admin",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "Admin"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "auth",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#auth",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "type": {
      "nullable": null,
      "types": [
        "Auth"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "file",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#file",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "File"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "me",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#me",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "Me"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "message",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#message",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "type": {
      "nullable": null,
      "types": [
        "Message"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 88,
    "kind": "member",
    "name": "room",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#room",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "Room"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 89,
    "kind": "member",
    "name": "url",
    "memberof": "src/api/index.js~IMKitApi",
    "static": false,
    "longname": "src/api/index.js~IMKitApi#url",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "Url"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "getHeader",
    "memberof": "src/api/index.js~IMKitApi",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/index.js~IMKitApi#getHeader",
    "access": "private",
    "description": "",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "isAdmin",
        "description": ""
      }
    ],
    "ignore": true,
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 91,
    "kind": "method",
    "name": "onError",
    "memberof": "src/api/index.js~IMKitApi",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/index.js~IMKitApi#onError",
    "access": "private",
    "description": "",
    "lineNumber": 61,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "error",
        "description": ""
      }
    ],
    "ignore": true,
    "return": null
  },
  {
    "__docId__": 92,
    "kind": "method",
    "name": "generateRsaKey",
    "memberof": "src/api/index.js~IMKitApi",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/index.js~IMKitApi#generateRsaKey",
    "access": "public",
    "description": "產生 RSA 金鑰，暫不支援 node.js",
    "lineNumber": 78,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{publicKey: String, privateKey: String}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{publicKey: String, privateKey: String}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 93,
    "kind": "file",
    "name": "src/api/me/index.js",
    "content": "import axios from 'axios';\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\nexport default class Me {\r\n  /**\r\n   * @private\r\n   * @param {Api} api\r\n   */\r\n  constructor(api) {\r\n    /**\r\n     * @private\r\n     * @type {Api}\r\n     * */\r\n    this.api = api;\r\n    /**\r\n     * @private\r\n     * @type {Boolean}\r\n     */\r\n    this.isAdmin = false;\r\n  }\r\n\r\n  /**\r\n   * Get my info\r\n   * @returns {Promise<ClientData|Error>}\r\n   */\r\n  getInfo() {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update my info\r\n   * @param {Object} info\r\n   * @param {String} [info.avatarUrl] 大頭網址\r\n   * @param {String} [info.email]\r\n   * @param {String} [info.nickname] 暱稱\r\n   * @returns {Promise<ClientData|Error>}\r\n   */\r\n  updateInfo(info) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me`;\r\n      let data = info;\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get badge\r\n   * @returns {Promise<{badge: Number}|Error>}\r\n   */\r\n  getBadge() {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/badge`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * subscribe\r\n   * @param {String} type ios or ???\r\n   * @param {String} token\r\n   * @returns {Promise<{_id: String, type: String, __v: Number, client: String, token: String, deviceId: String}|Error>}\r\n   */\r\n  subscribe(type, token) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/subscribe`;\r\n      let data = {\r\n        type,\r\n        token\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * unsubscribe\r\n   * @param {String} type ios or ???\r\n   * @param {String} token\r\n   * @returns {Promise<{n: Number, ok: Number}|Error>}\r\n   */\r\n  unsubscribe(type, token) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/unsubscribe`;\r\n      let data = {\r\n        type,\r\n        token\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Mute room (棄用)\r\n   * @param {String} roomId\r\n   * @returns {Promise<ClientData|Error>}\r\n   */\r\n  muteRoom(roomId) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/mute/${encodeURIComponent(\r\n        roomId\r\n      )}`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * UnMute room (棄用)\r\n   * @param {String} roomId\r\n   * @returns {Promise<ClientData|Error>}\r\n   */\r\n  unMuteRoom(roomId) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/mute/${encodeURIComponent(\r\n        roomId\r\n      )}`;\r\n      let data = {};\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .delete(url, {\r\n          data: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get Pref list\r\n   */\r\n  getPref() {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/pref`;\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create or Update Pref\r\n   * @param {String} key\r\n   * @param {Object} data\r\n   */\r\n  updatePref(key, data) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/pref/${key}`;\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .post(url, data, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete Pref\r\n   * @param {String} key\r\n   */\r\n  deletePref(key) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/me/pref/${key}`;\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .delete(url, {\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/me/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 94,
    "kind": "class",
    "name": "Me",
    "memberof": "src/api/me/index.js",
    "static": true,
    "longname": "src/api/me/index.js~Me",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/me/index.js",
    "importStyle": "Me",
    "description": "",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 95,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 96,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/me/index.js~Me",
    "static": false,
    "longname": "src/api/me/index.js~Me#api",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 97,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/me/index.js~Me",
    "static": false,
    "longname": "src/api/me/index.js~Me#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 98,
    "kind": "method",
    "name": "getInfo",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#getInfo",
    "access": "public",
    "description": "Get my info",
    "lineNumber": 28,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 99,
    "kind": "method",
    "name": "updateInfo",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#updateInfo",
    "access": "public",
    "description": "Update my info",
    "lineNumber": 61,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "info",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.avatarUrl",
        "description": "大頭網址"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.email",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "info.nickname",
        "description": "暱稱"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 100,
    "kind": "method",
    "name": "getBadge",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#getBadge",
    "access": "public",
    "description": "Get badge",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{badge: Number}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{badge: Number}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 101,
    "kind": "method",
    "name": "subscribe",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#subscribe",
    "access": "public",
    "description": "subscribe",
    "lineNumber": 120,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{_id: String, type: String, __v: Number, client: String, token: String, deviceId: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "ios or ???"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{_id: String, type: String, __v: Number, client: String, token: String, deviceId: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 102,
    "kind": "method",
    "name": "unsubscribe",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#unsubscribe",
    "access": "public",
    "description": "unsubscribe",
    "lineNumber": 153,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{n: Number, ok: Number}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "ios or ???"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{n: Number, ok: Number}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 103,
    "kind": "method",
    "name": "muteRoom",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#muteRoom",
    "access": "public",
    "description": "Mute room (棄用)",
    "lineNumber": 185,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 104,
    "kind": "method",
    "name": "unMuteRoom",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#unMuteRoom",
    "access": "public",
    "description": "UnMute room (棄用)",
    "lineNumber": 216,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ClientData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ClientData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 105,
    "kind": "method",
    "name": "getPref",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#getPref",
    "access": "public",
    "description": "Get Pref list",
    "lineNumber": 246,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 106,
    "kind": "method",
    "name": "updatePref",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#updatePref",
    "access": "public",
    "description": "Create or Update Pref",
    "lineNumber": 274,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "key",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 107,
    "kind": "method",
    "name": "deletePref",
    "memberof": "src/api/me/index.js~Me",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/me/index.js~Me#deletePref",
    "access": "public",
    "description": "Delete Pref",
    "lineNumber": 301,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "key",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 108,
    "kind": "file",
    "name": "src/api/message/index.js",
    "content": "import axios from 'axios';\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\nexport default class Message {\r\n  /**\r\n   * @private\r\n   * @param {Api} api\r\n   */\r\n  constructor(api) {\r\n    /**\r\n     * @private\r\n     * @type {Api}\r\n     * */\r\n    this.api = api;\r\n    /**\r\n     * @private\r\n     * @type {Boolean}\r\n     */\r\n    this.isAdmin = false;\r\n  }\r\n\r\n  /**\r\n   * Search message\r\n   * @param {String} [limit = 20]\r\n   * @param {Object} [q = {}]\r\n   * @param {String} [q.sender]\r\n   * @param {Object} [q.message]\r\n   * @returns {Promise<{totalCount: Number, data: MessageData[]}|Error>}\r\n   */\r\n  search(limit = 20, q = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${this.api.config.domain}/messages`;\r\n      let data = {\r\n        limit,\r\n        q\r\n      };\r\n      let headers = this.api.getHeader(this.isAdmin);\r\n\r\n      axios\r\n        .get(url, {\r\n          params: data,\r\n          headers: headers\r\n        })\r\n        .then(\r\n          res => {\r\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\r\n              resolve(res.data.result);\r\n            }\r\n          },\r\n          error => {\r\n            this.api.onError(error);\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/message/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 109,
    "kind": "class",
    "name": "Message",
    "memberof": "src/api/message/index.js",
    "static": true,
    "longname": "src/api/message/index.js~Message",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/message/index.js",
    "importStyle": "Message",
    "description": "",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 110,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/message/index.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/message/index.js~Message#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 111,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/message/index.js~Message",
    "static": false,
    "longname": "src/api/message/index.js~Message#api",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 112,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/message/index.js~Message",
    "static": false,
    "longname": "src/api/message/index.js~Message#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 113,
    "kind": "method",
    "name": "search",
    "memberof": "src/api/message/index.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/message/index.js~Message#search",
    "access": "public",
    "description": "Search message",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{totalCount: Number, data: MessageData[]}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 20",
        "defaultRaw": 20,
        "name": "limit",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " {}",
        "defaultRaw": {},
        "name": "q",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "q.sender",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "q.message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{totalCount: Number, data: MessageData[]}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 114,
    "kind": "file",
    "name": "src/api/room/index.js",
    "content": "import axios from 'axios';\nimport lib from '../../lib';\n/**\n * @import * from '@/src/typedef';\n */\n\nexport default class Room {\n  /**\n   * @private\n   * @param {Api} api\n   */\n  constructor(api) {\n    /**\n     * @private\n     * @type {Api}\n     * */\n    this.api = api;\n    /**\n     * @private\n     * @type {Boolean}\n     */\n    this.isAdmin = false;\n  }\n\n  /**\n   * Get rooms list\n   * @param {Number} [limit = 20] 最大回傳筆數\n   * @param {Number} [skip = 0] 從第幾筆開始\n   * @param {{members: String}} [q = {}]\n   * @param {String} [sort] 排序方式\n   * @returns {Promise<{totalCount: Number, data: RoomData[]}|Error>}\n   */\n  getRoomsList(limit = 20, skip = 0, q = {}, sort = null) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms`;\n      let data = {\n        limit,\n        skip,\n        q\n      };\n      let headers = this.api.getHeader(this.isAdmin);\n\n      if (sort) {\n        data.sort = sort;\n      }\n      axios\n        .get(url, {\n          params: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              // 解密訊息\n              if (res.data.result.data) {\n                res.data.result.data.forEach(room => {\n                  if (room.lastMessage) {\n                    room.lastMessage = lib.message.decrypt(\n                      room.lastMessage,\n                      this.api.config.privateKey,\n                      this.api.config.clientId\n                    );\n                  }\n                });\n              }\n\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Get room\n   * @param {String} roomId Room id\n   * @returns {Promise<RoomData|Error>}\n   */\n  getRoom(roomId) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(roomId)}`;\n      let data = {};\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .get(url, {\n          params: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              // 解密訊息\n              if (res.data.result.lastMessage) {\n                res.data.result.lastMessage = lib.message.decrypt(\n                  res.data.result.lastMessage,\n                  this.api.config.privateKey,\n                  this.api.config.clientId\n                );\n              }\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Create room\n   * @param {Object} roomInfo\n   * @param {String} [roomInfo._id]\n   * @param {String} [roomInfo.name]\n   * @param {String} [roomInfo.description]\n   * @param {String} [roomInfo.cover] Image url\n   * @param {String} [roomInfo.roomType] 房間 type, \"direct\" or \"group\"\n   * @param {Boolean} [roomInfo.encrypted] 房間訊息是否加密\n   * @returns {Promise<RoomData|Error>}\n   */\n  createRoom(roomInfo) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms`;\n      let data = roomInfo;\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Create And Join Room\n   * @param {Object} roomInfo\n   * @param {String} [roomInfo._id]\n   * @param {String} [roomInfo.name]\n   * @param {String} [roomInfo.description]\n   * @param {String} [roomInfo.cover] Image url\n   * @param {String} [roomInfo.roomType] 房間 type, \"direct\" or \"group\"\n   * @param {Boolean} [roomInfo.encrypted] 房間訊息是否加密\n   * @param {String[]|String} [roomInfo.invitee] 要邀請的人\n   * @returns {Promise<RoomData|Error>}\n   */\n  createAndJoinRoom(roomInfo) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/createAndJoin`;\n      let data = roomInfo;\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Update room\n   * @param {String} roomId\n   * @param {Object} roomInfo\n   * @param {String} [roomInfo.name]\n   * @param {String} [roomInfo.description]\n   * @param {String} [roomInfo.cover] Image url\n   * @param {Boolean} [roomInfo.encrypted] 房間訊息是否加密\n   * @returns {Promise<RoomData|Error>}\n   */\n  updateRoom(roomId, roomInfo) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(roomId)}`;\n      let data = roomInfo;\n\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .put(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * 更新個人的房間資訊\n   * @param {String} roomId\n   * @param {RoomPref} pref\n   */\n  updateRoomPref(roomId, pref) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/roomPrefs/${encodeURIComponent(\n        roomId\n      )}`;\n      let data = pref;\n\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Update room bot\n   * @param {String} roomId\n   * @param {Object} roomInfo\n   * @param {String} [roomInfo.botState]\n   * @returns {Promise<RoomData|Error>}\n   */\n  updateRoomBot(roomId, roomInfo) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/bot`;\n      let data = roomInfo;\n\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .put(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * 已讀\n   * @param {String} roomId\n   * @param {String} messageId\n   * @returns {Promise<{client:String, lastRead:String, badge:Number}|Error>}\n   */\n  updateLastRead(roomId, messageId) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/lastRead`;\n      let data = {\n        message: messageId\n      };\n\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .put(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Delete room\n   * @param {String} roomId\n   * @returns {Promise<{n: Number, nModified: Number, ok: Number}|Error>}\n   */\n  deleteRoom(roomId) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(roomId)}`;\n      let data = {};\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .delete(url, {\n          data: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Join room\n   * @param {String} roomId\n   * @returns {Promise<RoomData|Error>}\n   */\n  joinRoom(roomId) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/join`;\n      let data = {};\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Add member to room\n   * @param {String} roomId\n   * @param {String} uid\n   * @returns {Promise<RoomData|Error>}\n   */\n  addMember(roomId, uid) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/members/${encodeURIComponent(uid)}`;\n      let data = {};\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Add members to room\n   * @param {String} roomId\n   * @param {String[]} invitees\n   * @returns {Promise<RoomData|Error>}\n   */\n  addMembers(roomId, invitees) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/members/`;\n      let data = { invitees };\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Delete member from room\n   * @param {String} roomId\n   * @param {String} uid\n   * @returns {Promise<RoomData|Error>}\n   */\n  deleteMember(roomId, uid) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/members/${encodeURIComponent(uid)}`;\n      let data = {};\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .delete(url, {\n          data: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Tell other room members, I am Typing\n   * @param {String} roomId\n   * @param {String} message\n   * @returns {Promise<{message: String, room: String, sender: String}|Error>}\n   */\n  typing(roomId, message) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/typing`;\n      let data = {\n        message\n      };\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Send Message\n   * @param {RoomData} room\n   * @param {MessageInfo} message\n   * @returns {Promise<MessageData|Error>}\n   */\n  sendMessage(room, message) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        room._id\n      )}/message`;\n\n      // 加密訊息\n      let data = lib.message.encrypt(room, message);\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .post(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Update member property\n   * @param {String} roomId\n   * @param {String} clientId\n   * @param {Object} property\n   * @param {String} property.property\n   * @param {String} property.value\n   * @returns {Promise<{client: String, rule: String}|Error>}\n   */\n  updateMemberProperty(roomId, clientId, property) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/member/${encodeURIComponent(clientId)}`;\n      let data = property;\n\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .put(url, data, {\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Get room messages list\n   * @param {String} roomId\n   * @param {Number} limit\n   * @param {String} beforeMessage Message id\n   * @returns {Promise<{totalCount: Number, data: MessageData[]}|Error>}\n   */\n  getRoomMessages(roomId, limit = 20, beforeMessage = null) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/messages`;\n      let data = {\n        limit,\n        beforeMessage\n      };\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .get(url, {\n          params: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              // 解密訊息\n              res.data.result.data = res.data.result.data.map(message => {\n                return lib.message.decrypt(\n                  message,\n                  this.api.config.privateKey,\n                  this.api.config.clientId\n                );\n              });\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n\n  /**\n   * Get room messages count after timeInMS\n   * @param {String} roomId\n   * @param {Number} [timeInMS = 0]\n   * @returns {Promise<{count: Number}|Error>}\n   */\n  getRoomMessagesCount(roomId, timeInMS = 0) {\n    return new Promise((resolve, reject) => {\n      let url = `${this.api.config.domain}/rooms/${encodeURIComponent(\n        roomId\n      )}/count`;\n      let data = {\n        timeInMS\n      };\n      let headers = this.api.getHeader(this.isAdmin);\n\n      axios\n        .get(url, {\n          params: data,\n          headers: headers\n        })\n        .then(\n          res => {\n            if (res.status >= 200 && res.status < 300 && res.data.RC === 0) {\n              resolve(res.data.result);\n            }\n          },\n          error => {\n            this.api.onError(error);\n            reject(error);\n          }\n        );\n    });\n  }\n}\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/room/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 115,
    "kind": "class",
    "name": "Room",
    "memberof": "src/api/room/index.js",
    "static": true,
    "longname": "src/api/room/index.js~Room",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/room/index.js",
    "importStyle": "Room",
    "description": "",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 116,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 117,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/room/index.js~Room",
    "static": false,
    "longname": "src/api/room/index.js~Room#api",
    "access": "private",
    "description": "",
    "lineNumber": 17,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 118,
    "kind": "member",
    "name": "isAdmin",
    "memberof": "src/api/room/index.js~Room",
    "static": false,
    "longname": "src/api/room/index.js~Room#isAdmin",
    "access": "private",
    "description": "",
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 119,
    "kind": "method",
    "name": "getRoomsList",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#getRoomsList",
    "access": "public",
    "description": "Get rooms list",
    "lineNumber": 33,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{totalCount: Number, data: RoomData[]}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 20",
        "defaultRaw": 20,
        "name": "limit",
        "description": "最大回傳筆數"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 0",
        "defaultRaw": 0,
        "name": "skip",
        "description": "從第幾筆開始"
      },
      {
        "nullable": null,
        "types": [
          "{members: String}"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " {}",
        "defaultRaw": {},
        "name": "q",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "sort",
        "description": "排序方式"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{totalCount: Number, data: RoomData[]}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 120,
    "kind": "method",
    "name": "getRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#getRoom",
    "access": "public",
    "description": "Get room",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": "Room id"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 121,
    "kind": "method",
    "name": "createRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#createRoom",
    "access": "public",
    "description": "Create room",
    "lineNumber": 127,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "roomInfo",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo._id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.description",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.cover",
        "description": "Image url"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.roomType",
        "description": "房間 type, \"direct\" or \"group\""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.encrypted",
        "description": "房間訊息是否加密"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 122,
    "kind": "method",
    "name": "createAndJoinRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#createAndJoinRoom",
    "access": "public",
    "description": "Create And Join Room",
    "lineNumber": 163,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "roomInfo",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo._id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.description",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.cover",
        "description": "Image url"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.roomType",
        "description": "房間 type, \"direct\" or \"group\""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.encrypted",
        "description": "房間訊息是否加密"
      },
      {
        "nullable": null,
        "types": [
          "String[]",
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.invitee",
        "description": "要邀請的人"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 123,
    "kind": "method",
    "name": "updateRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#updateRoom",
    "access": "public",
    "description": "Update room",
    "lineNumber": 197,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "roomInfo",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.description",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.cover",
        "description": "Image url"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.encrypted",
        "description": "房間訊息是否加密"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 124,
    "kind": "method",
    "name": "updateRoomPref",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#updateRoomPref",
    "access": "public",
    "description": "更新個人的房間資訊",
    "lineNumber": 227,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "RoomPref"
        ],
        "spread": false,
        "optional": false,
        "name": "pref",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "method",
    "name": "updateRoomBot",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#updateRoomBot",
    "access": "public",
    "description": "Update room bot",
    "lineNumber": 261,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "roomInfo",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomInfo.botState",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 126,
    "kind": "method",
    "name": "updateLastRead",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#updateLastRead",
    "access": "public",
    "description": "已讀",
    "lineNumber": 294,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{client:String, lastRead:String, badge:Number}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "messageId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{client:String, lastRead:String, badge:Number}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "deleteRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#deleteRoom",
    "access": "public",
    "description": "Delete room",
    "lineNumber": 328,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{n: Number, nModified: Number, ok: Number}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{n: Number, nModified: Number, ok: Number}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "joinRoom",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#joinRoom",
    "access": "public",
    "description": "Join room",
    "lineNumber": 358,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "addMember",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#addMember",
    "access": "public",
    "description": "Add member to room",
    "lineNumber": 390,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 130,
    "kind": "method",
    "name": "addMembers",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#addMembers",
    "access": "public",
    "description": "Add members to room",
    "lineNumber": 422,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "invitees",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 131,
    "kind": "method",
    "name": "deleteMember",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#deleteMember",
    "access": "public",
    "description": "Delete member from room",
    "lineNumber": 454,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<RoomData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<RoomData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 132,
    "kind": "method",
    "name": "typing",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#typing",
    "access": "public",
    "description": "Tell other room members, I am Typing",
    "lineNumber": 487,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{message: String, room: String, sender: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{message: String, room: String, sender: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 133,
    "kind": "method",
    "name": "sendMessage",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#sendMessage",
    "access": "public",
    "description": "Send Message",
    "lineNumber": 521,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<MessageData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "RoomData"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "MessageInfo"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<MessageData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 134,
    "kind": "method",
    "name": "updateMemberProperty",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#updateMemberProperty",
    "access": "public",
    "description": "Update member property",
    "lineNumber": 558,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{client: String, rule: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "clientId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "property",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "property.property",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "property.value",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{client: String, rule: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 135,
    "kind": "method",
    "name": "getRoomMessages",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#getRoomMessages",
    "access": "public",
    "description": "Get room messages list",
    "lineNumber": 592,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{totalCount: Number, data: MessageData[]}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "limit",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "beforeMessage",
        "description": "Message id"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{totalCount: Number, data: MessageData[]}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 136,
    "kind": "method",
    "name": "getRoomMessagesCount",
    "memberof": "src/api/room/index.js~Room",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/room/index.js~Room#getRoomMessagesCount",
    "access": "public",
    "description": "Get room messages count after timeInMS",
    "lineNumber": 636,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{count: Number}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 0",
        "defaultRaw": 0,
        "name": "timeInMS",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{count: Number}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 137,
    "kind": "file",
    "name": "src/api/url/index.js",
    "content": "import axios from 'axios';\n/**\n * @import * from '@/src/typedef';\n */\n\nexport default class Url {\n  /**\n   * @private\n   * @param {Api} api\n   */\n  constructor(api) {\n    /**\n     * @private\n     * @type {Api}\n     * */\n    this.api = api;\n  }\n\n  /**\n   * Get url preview data\n   * @param {String} url 網址\n   * @returns {Promise<{description: String, images: String, title: String}|Error>}\n   */\n  getPreview(url) {\n    return new Promise(resolve => {\n      let apiUrl = `${this.api.config.urlPreviewApi}/`;\n      let data = {\n        url\n      };\n\n      axios\n        .get(apiUrl, {\n          params: data\n        })\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(() => {\n          resolve(null);\n        });\n    });\n  }\n}\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/api/url/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 138,
    "kind": "class",
    "name": "Url",
    "memberof": "src/api/url/index.js",
    "static": true,
    "longname": "src/api/url/index.js~Url",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/api/url/index.js",
    "importStyle": "Url",
    "description": "",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 139,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/url/index.js~Url",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/url/index.js~Url#constructor",
    "access": "private",
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Api"
        ],
        "spread": false,
        "optional": false,
        "name": "api",
        "description": ""
      }
    ],
    "ignore": true
  },
  {
    "__docId__": 140,
    "kind": "member",
    "name": "api",
    "memberof": "src/api/url/index.js~Url",
    "static": false,
    "longname": "src/api/url/index.js~Url#api",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Api"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 141,
    "kind": "method",
    "name": "getPreview",
    "memberof": "src/api/url/index.js~Url",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/url/index.js~Url#getPreview",
    "access": "public",
    "description": "Get url preview data",
    "lineNumber": 24,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{description: String, images: String, title: String}|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "網址"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{description: String, images: String, title: String}|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 142,
    "kind": "file",
    "name": "src/index.js",
    "content": "import IMKitApi from './api';\nimport IMKitSocket from './socket';\nexport { IMKitApi, IMKitSocket };\n\nif (typeof window !== 'undefined') {\n  window.IMKitApi = IMKitApi;\n  window.IMKitSocket = IMKitSocket;\n}\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 143,
    "kind": "file",
    "name": "src/lib/index.js",
    "content": "import Message from './Message';\r\n\r\n/**\r\n * @private\r\n */\r\nlet message = new Message();\r\n\r\nexport default { message };\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/lib/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 144,
    "kind": "variable",
    "name": "message",
    "memberof": "src/lib/index.js",
    "static": true,
    "longname": "src/lib/index.js~message",
    "access": "private",
    "export": false,
    "importPath": "imkit-js-api-v3/src/lib/index.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 6,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 145,
    "kind": "file",
    "name": "src/lib/Message.js",
    "content": "import forge from 'node-forge';\r\nimport CryptoJS from 'crypto-js';\r\n\r\n/**\r\n * @import * from '@/src/typedef';\r\n */\r\n\r\n/**\r\n * @private\r\n */\r\nclass Message {\r\n  /**\r\n   * @private\r\n   * @returns {Promise<{publicKey: String, privateKey: String}|Error>}\r\n   */\r\n  generateRsaKey() {\r\n    return new Promise((resolve, reject) => {\r\n      forge.pki.rsa.generateKeyPair(\r\n        { bits: 2048, workers: 2 },\r\n        (err, keypair) => {\r\n          if (err) {\r\n            reject(err);\r\n          } else {\r\n            let publicKey = forge.pki.publicKeyToPem(keypair.publicKey);\r\n            let privateKey = forge.pki.privateKeyToPem(keypair.privateKey);\r\n            resolve({\r\n              publicKey: publicKey\r\n                .replace(/-+END.*KEY-+/g, '')\r\n                .replace(/-+BEGIN.*KEY-+/g, '')\r\n                .replace(/\\r\\n|\\n/g, ''),\r\n              privateKey: privateKey\r\n                .replace(/-+END.*KEY-+/g, '')\r\n                .replace(/-+BEGIN.*KEY-+/g, '')\r\n                .replace(/\\r\\n|\\n/g, '')\r\n            });\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {MessageData} message\r\n   * @param {String} privateKey\r\n   * @param {String} clientId\r\n   * @returns {MessageData}\r\n   */\r\n  decrypt(message, privateKey, clientId) {\r\n    if (message.messageType === 'encrypted') {\r\n      try {\r\n        let messageArray = message.message.split('|');\r\n        let encrypted = messageArray\r\n          .find(_message => {\r\n            return atob(_message.split(':')[0]) === clientId;\r\n          })\r\n          .split(':');\r\n\r\n        // RSA\r\n        let key = this.rsaDecrypt(privateKey, encrypted[2]);\r\n        let iv = this.rsaDecrypt(privateKey, encrypted[1]);\r\n\r\n        // AES\r\n        let messageStr = this.aesDecrypt(\r\n          key,\r\n          iv,\r\n          messageArray[messageArray.length - 1]\r\n        );\r\n\r\n        message = Object.assign(message, JSON.parse(messageStr));\r\n        if (message.reply) {\r\n          message.reply = this.decrypt(message.reply, privateKey, clientId);\r\n        }\r\n        return message;\r\n      } catch (e) {}\r\n    }\r\n    return message;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {RoomData} room\r\n   * @param {MessageInfo} message\r\n   * @returns {MessageInfo}\r\n   */\r\n  encrypt(room, message) {\r\n    if (room.encrypted) {\r\n      let reply = message.reply;\r\n      delete message.reply;\r\n      let messageStr = JSON.stringify(message);\r\n\r\n      // AES\r\n      let key = this.aesGenerateKey();\r\n      let iv = this.aesGenerateKey();\r\n      // AES 加密字串\r\n      let aesEncryptedMessage = this.aesEncrypt(key, iv, messageStr);\r\n\r\n      let messageArray = room.members\r\n        .filter(member => {\r\n          return member.publicKey;\r\n        })\r\n        .map(member => {\r\n          // RSA\r\n          let encryptedKey = this.rsaEncrypt(member.publicKey, key);\r\n          let encryptedIv = this.rsaEncrypt(member.publicKey, iv);\r\n          return `${btoa(member._id)}:${encryptedIv}:${encryptedKey}`;\r\n        });\r\n\r\n      messageArray.push(aesEncryptedMessage);\r\n      return {\r\n        messageType: 'encrypted',\r\n        message: messageArray.join('|'),\r\n        reply: reply\r\n      };\r\n    }\r\n    return message;\r\n  }\r\n\r\n  rsaEncrypt(publicKey, message) {\r\n    let _publicKey = forge.pki.publicKeyFromPem(\r\n      `-----BEGIN RSA PUBLIC KEY-----${publicKey}-----END RSA PUBLIC KEY-----`\r\n    );\r\n\r\n    return btoa(_publicKey.encrypt(atob(message), 'RSAES-PKCS1-V1_5'));\r\n  }\r\n\r\n  rsaDecrypt(privateKey, encrypted) {\r\n    let _privateKey = forge.pki.privateKeyFromPem(\r\n      `-----BEGIN RSA PRIVATE KEY-----${privateKey}-----END RSA PRIVATE KEY-----`\r\n    );\r\n\r\n    return btoa(_privateKey.decrypt(atob(encrypted), 'RSAES-PKCS1-V1_5'));\r\n  }\r\n\r\n  aesGenerateKey() {\r\n    return btoa(CryptoJS.lib.WordArray.random(8));\r\n  }\r\n\r\n  aesEncrypt(key, iv, message) {\r\n    let _key = CryptoJS.enc.Base64.parse(key);\r\n    let _iv = CryptoJS.enc.Base64.parse(iv);\r\n\r\n    return CryptoJS.AES.encrypt(message, _key, {\r\n      iv: _iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    }).toString();\r\n  }\r\n\r\n  aesDecrypt(key, iv, encrypted) {\r\n    let _key = CryptoJS.enc.Base64.parse(key);\r\n    let _iv = CryptoJS.enc.Base64.parse(iv);\r\n\r\n    return CryptoJS.AES.decrypt(encrypted.toString(), _key, {\r\n      iv: _iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    }).toString(CryptoJS.enc.Utf8);\r\n  }\r\n}\r\n\r\nexport default Message;\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/lib/Message.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 146,
    "kind": "class",
    "name": "Message",
    "memberof": "src/lib/Message.js",
    "static": true,
    "longname": "src/lib/Message.js~Message",
    "access": "private",
    "export": true,
    "importPath": "imkit-js-api-v3/src/lib/Message.js",
    "importStyle": "Message",
    "description": "",
    "lineNumber": 11,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "generateRsaKey",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#generateRsaKey",
    "access": "private",
    "description": "",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{publicKey: String, privateKey: String}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{publicKey: String, privateKey: String}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true,
    "params": []
  },
  {
    "__docId__": 148,
    "kind": "method",
    "name": "decrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#decrypt",
    "access": "private",
    "description": "",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{MessageData}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "MessageData"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "privateKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "clientId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "MessageData"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 149,
    "kind": "method",
    "name": "encrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#encrypt",
    "access": "private",
    "description": "",
    "lineNumber": 86,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{MessageInfo}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "RoomData"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "MessageInfo"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "MessageInfo"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 150,
    "kind": "method",
    "name": "rsaEncrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#rsaEncrypt",
    "access": "public",
    "description": null,
    "lineNumber": 119,
    "undocument": true,
    "params": [
      {
        "name": "publicKey",
        "types": [
          "*"
        ]
      },
      {
        "name": "message",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 151,
    "kind": "method",
    "name": "rsaDecrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#rsaDecrypt",
    "access": "public",
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "params": [
      {
        "name": "privateKey",
        "types": [
          "*"
        ]
      },
      {
        "name": "encrypted",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 152,
    "kind": "method",
    "name": "aesGenerateKey",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#aesGenerateKey",
    "access": "public",
    "description": null,
    "lineNumber": 135,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 153,
    "kind": "method",
    "name": "aesEncrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#aesEncrypt",
    "access": "public",
    "description": null,
    "lineNumber": 139,
    "undocument": true,
    "params": [
      {
        "name": "key",
        "types": [
          "*"
        ]
      },
      {
        "name": "iv",
        "types": [
          "*"
        ]
      },
      {
        "name": "message",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 154,
    "kind": "method",
    "name": "aesDecrypt",
    "memberof": "src/lib/Message.js~Message",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/Message.js~Message#aesDecrypt",
    "access": "public",
    "description": null,
    "lineNumber": 150,
    "undocument": true,
    "params": [
      {
        "name": "key",
        "types": [
          "*"
        ]
      },
      {
        "name": "iv",
        "types": [
          "*"
        ]
      },
      {
        "name": "encrypted",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 155,
    "kind": "file",
    "name": "src/socket/index.js",
    "content": "import io from 'socket.io-client';\nimport lib from '../lib';\n/**\n * @import * from '@/src/typedef';\n */\n\nexport default class IMKitSocket {\n  /**\n   * 建立 Socket 物件\n   * @param {SocketConfig} config\n   */\n  constructor(config) {\n    /** @type {SocketConfig} */\n    this.config = config;\n\n    /**\n     * 上一次收到 ping 的時間\n     * @private\n     * @type {Number}\n     */\n    this.pingTime = 0;\n\n    /**\n     * socket 5 秒 ping 一次，超過 6 秒沒收到即為斷線\n     * @private\n     * @type {Number}\n     */\n    this.pingDelay = 6000;\n\n    /**\n     * @private\n     * @type {Boolean}\n     */\n    this.connectStatus = false;\n\n    /**\n     * @private\n     * @type {SocketIOClient.Socket}\n     */\n    this.socket = io(this.config.domain, {});\n    this.socket.connect();\n\n    setInterval(() => {\n      if (this.connectStatus) {\n        if (Date.now() - this.pingTime > this.pingDelay) {\n          this.disconnect();\n        }\n      } else {\n        if (Date.now() - this.pingTime < this.pingDelay) {\n          this.onConnect();\n        }\n      }\n    }, this.pingDelay);\n\n    this.socket.on('ping', () => {\n      this.pingTime = Date.now();\n    });\n\n    this.socket.on('connect', () => {\n      this.onConnect();\n    });\n\n    this.socket.on('disconnect', () => {\n      this.disconnect();\n    });\n\n    this.socket.on('chat message', data => {\n      data = this.base64Decode(data);\n      if (config.onReceiveMessage) {\n        config.onReceiveMessage(\n          lib.message.decrypt(\n            data,\n            this.config.privateKey,\n            this.config.clientId\n          )\n        );\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('room', data => {\n      data = this.base64Decode(data);\n      if (config.onReceiveRoom) {\n        config.onReceiveRoom(data);\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('typing', data => {\n      data = this.base64Decode(data);\n      if (config.onReceiveTyping) {\n        config.onReceiveTyping(data);\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('lastRead', data => {\n      data = this.base64Decode(data);\n      if (config.onReceivelastRead) {\n        config.onReceivelastRead(data);\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('roomPref', data => {\n      data = this.base64Decode(data);\n      if (config.onReceiveRoomPref) {\n        config.onReceiveRoomPref(data);\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('myPrefChange', data => {\n      data = this.base64Decode(data);\n      if (config.onReceiveMyPrefChange) {\n        config.onReceiveMyPrefChange(data);\n      } else {\n        console.log(data);\n      }\n    });\n\n    this.socket.on('myPrefDelete', data => {\n      data = new Buffer(data, 'base64').toString();\n      if (config.onReceiveMyPrefDelete) {\n        config.onReceiveMyPrefDelete(data);\n      } else {\n        console.log(data);\n      }\n    });\n  }\n\n  /**\n   * @private\n   */\n  onConnect() {\n    this.socket.emit('conf', { encoding: 'base64' }, () => {\n      this.pingTime = Date.now();\n      this.connectStatus = true;\n      if (this.config.onConnect) {\n        this.config.onConnect();\n      } else {\n        console.log('Default connect success');\n      }\n    });\n  }\n\n  /**\n   * @private\n   */\n  disconnect() {\n    this.pingTime = 0;\n    this.connectStatus = false;\n    if (this.config.onDisconnect) {\n      this.config.onDisconnect();\n    } else {\n      console.log('Default disconnect success');\n    }\n  }\n\n  /**\n   * chatIn\n   * @returns {Promise<{client: String}|Error>}\n   */\n  chatIn() {\n    return new Promise((resolve, reject) => {\n      this.socket.emit('auth', this.config.token, res => {\n        res = this.base64Decode(res);\n        if (res.RC === 0) {\n          resolve(res.result);\n        } else {\n          this.onError(res);\n          reject(new Error(`[IMKit WebSocket (auth)] ${res.RM}`));\n        }\n      });\n    });\n  }\n\n  /**\n   * Send message\n   * @param {String} roomId\n   * @param {MessageInfo} message\n   * @returns {Promise<MessageData|Error>}\n   */\n  sendMessage(roomId, message) {\n    return new Promise((resolve, reject) => {\n      let data = Object.assign(message, {\n        room: roomId\n      });\n\n      this.socket.emit('chat message', data, res => {\n        if (res.RC === 0) {\n          resolve(res.result);\n        } else {\n          this.onError(res);\n          reject(new Error(`[IMKit WebSocket (sendMessage)] ${res.RM}`));\n        }\n      });\n    });\n  }\n\n  /**\n   * Typing\n   * @param {String} roomId\n   * @param {String} text\n   */\n  typing(roomId, text) {\n    this.socket.emit('typing', roomId, text);\n  }\n\n  /**\n   * @private\n   * @param {Object} error\n   */\n  onError(error) {\n    this.config.events.onAjaxError(error);\n  }\n\n  base64Decode(base64) {\n    return JSON.parse(new Buffer(base64, 'base64').toString());\n  }\n}\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/socket/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 156,
    "kind": "class",
    "name": "IMKitSocket",
    "memberof": "src/socket/index.js",
    "static": true,
    "longname": "src/socket/index.js~IMKitSocket",
    "access": "public",
    "export": true,
    "importPath": "imkit-js-api-v3/src/socket/index.js",
    "importStyle": "IMKitSocket",
    "description": "",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@import",
        "tagValue": "* from '@/src/typedef';"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 157,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#constructor",
    "access": "public",
    "description": "建立 Socket 物件",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "SocketConfig"
        ],
        "spread": false,
        "optional": false,
        "name": "config",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 158,
    "kind": "member",
    "name": "config",
    "memberof": "src/socket/index.js~IMKitSocket",
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#config",
    "access": "public",
    "description": null,
    "lineNumber": 14,
    "type": {
      "nullable": null,
      "types": [
        "SocketConfig"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 159,
    "kind": "member",
    "name": "pingTime",
    "memberof": "src/socket/index.js~IMKitSocket",
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#pingTime",
    "access": "private",
    "description": "上一次收到 ping 的時間",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 160,
    "kind": "member",
    "name": "pingDelay",
    "memberof": "src/socket/index.js~IMKitSocket",
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#pingDelay",
    "access": "private",
    "description": "socket 5 秒 ping 一次，超過 6 秒沒收到即為斷線",
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 161,
    "kind": "member",
    "name": "connectStatus",
    "memberof": "src/socket/index.js~IMKitSocket",
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#connectStatus",
    "access": "private",
    "description": "",
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 162,
    "kind": "member",
    "name": "socket",
    "memberof": "src/socket/index.js~IMKitSocket",
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#socket",
    "access": "private",
    "description": "",
    "lineNumber": 40,
    "type": {
      "nullable": null,
      "types": [
        "SocketIOClient.Socket"
      ],
      "spread": false,
      "description": null
    },
    "ignore": true
  },
  {
    "__docId__": 164,
    "kind": "method",
    "name": "onConnect",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#onConnect",
    "access": "private",
    "description": "",
    "lineNumber": 140,
    "ignore": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 167,
    "kind": "method",
    "name": "disconnect",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#disconnect",
    "access": "private",
    "description": "",
    "lineNumber": 155,
    "ignore": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 170,
    "kind": "method",
    "name": "chatIn",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#chatIn",
    "access": "public",
    "description": "chatIn",
    "lineNumber": 169,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{client: String}|Error>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{client: String}|Error>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 171,
    "kind": "method",
    "name": "sendMessage",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#sendMessage",
    "access": "public",
    "description": "Send message",
    "lineNumber": 189,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<MessageData|Error>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "MessageInfo"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<MessageData|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 172,
    "kind": "method",
    "name": "typing",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#typing",
    "access": "public",
    "description": "Typing",
    "lineNumber": 211,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "roomId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "text",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 173,
    "kind": "method",
    "name": "onError",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#onError",
    "access": "private",
    "description": "",
    "lineNumber": 219,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "error",
        "description": ""
      }
    ],
    "ignore": true,
    "return": null
  },
  {
    "__docId__": 174,
    "kind": "method",
    "name": "base64Decode",
    "memberof": "src/socket/index.js~IMKitSocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/socket/index.js~IMKitSocket#base64Decode",
    "access": "public",
    "description": null,
    "lineNumber": 223,
    "undocument": true,
    "params": [
      {
        "name": "base64",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 175,
    "kind": "file",
    "name": "src/typedef/ApiConfig.js",
    "content": "/**\r\n * @typedef {Object} ApiConfig\r\n * @property {String} domain\r\n * @property {String} [urlPreviewApi]\r\n * @property {String} [apiKey]\r\n * @property {String} clientKey\r\n * @property {String} [clientId]\r\n * @property {String} [token]\r\n * @property {String} [privateKey]\r\n * @property {String} [authBase]\r\n * @property {Object} [events]\r\n * @property {function(error: Object)} [events.onAjaxError]\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/ApiConfig.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 176,
    "kind": "typedef",
    "name": "ApiConfig",
    "memberof": "src/typedef/ApiConfig.js",
    "static": true,
    "longname": "src/typedef/ApiConfig.js~ApiConfig",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "domain",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "urlPreviewApi",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "apiKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "clientKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "token",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "privateKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "authBase",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "events",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(error: Object)"
        ],
        "spread": false,
        "optional": true,
        "name": "events.onAjaxError",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ApiConfig"
    }
  },
  {
    "__docId__": 177,
    "kind": "file",
    "name": "src/typedef/ClientData.js",
    "content": "/**\r\n * @typedef {Object} ClientData\r\n * @property {String} _id\r\n * @property {String} avatarUrl\r\n * @property {String} email\r\n * @property {String} nickname\r\n * @property {Object} address\r\n * @property {Number} address.port\r\n * @property {String} address.family\r\n * @property {String} address.address\r\n * @property {String} userAgent\r\n * @property {String} lastLoginTime\r\n * @property {Number} lastLoginTimeMS\r\n * @property {String} id\r\n * @property {String} publicKey 訊息加密公鑰\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/ClientData.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 178,
    "kind": "typedef",
    "name": "ClientData",
    "memberof": "src/typedef/ClientData.js",
    "static": true,
    "longname": "src/typedef/ClientData.js~ClientData",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "_id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "avatarUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "email",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "nickname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "address.port",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "address.family",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "address.address",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "userAgent",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "lastLoginTime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "lastLoginTimeMS",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "publicKey",
        "description": "訊息加密公鑰"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ClientData"
    }
  },
  {
    "__docId__": 179,
    "kind": "file",
    "name": "src/typedef/MessageData.js",
    "content": "/**\r\n * @typedef {Object} MessageData\r\n * @property {String} messageType\r\n * 'text', 'image', 'video', 'audio', 'location', 'sticker',\r\n * 'joinRoom', 'leaveRoom', 'addMember', 'deleteMember'\r\n * @property {String} message\r\n * @property {String} [sticker]\r\n * @property {String} [originalUrl]\r\n * @property {String} [thumbnailUrl]\r\n * @property {Number} [width]\r\n * @property {Number} [height]\r\n * @property {Number} [latitude]\r\n * @property {Number} [longitude]\r\n * @property {String} [duration]\r\n * @property {String} [extra]\r\n * @property {MessageData} [reply]\r\n *\r\n * @property {Object} sender\r\n * @property {String} sender.id client id\r\n * @property {String} sender.avatarUrl\r\n * @property {String} sender.nickname\r\n * @property {String} sender.lastLoginTime\r\n * @property {Number} sender.lastLoginTimeMS\r\n *\r\n * @property {String} messageTime\r\n * @property {Number} messageTimeMS\r\n * @property {String} id message id\r\n * @property {String} [appID]\r\n * @property {Number} [__v]\r\n *\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/MessageData.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 180,
    "kind": "typedef",
    "name": "MessageData",
    "memberof": "src/typedef/MessageData.js",
    "static": true,
    "longname": "src/typedef/MessageData.js~MessageData",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "messageType",
        "description": "'text', 'image', 'video', 'audio', 'location', 'sticker',\n'joinRoom', 'leaveRoom', 'addMember', 'deleteMember'"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "sticker",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "originalUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "thumbnailUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "width",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "height",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "latitude",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "longitude",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "duration",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "extra",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "MessageData"
        ],
        "spread": false,
        "optional": true,
        "name": "reply",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "sender",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sender.id",
        "description": "client id"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sender.avatarUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sender.nickname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sender.lastLoginTime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "sender.lastLoginTimeMS",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "messageTime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "messageTimeMS",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "message id"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "appID",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "__v",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "MessageData"
    }
  },
  {
    "__docId__": 181,
    "kind": "file",
    "name": "src/typedef/MessageInfo.js",
    "content": "/**\r\n * 丟什麼進去就會吐什麼出來，it's very free~~~\r\n * @typedef {Object} MessageInfo\r\n * @property {String} messageType\r\n * 'text', 'image', 'video', 'audio', 'location', 'sticker',\r\n * 'joinRoom', 'leaveRoom', 'addMember', 'deleteMember'\r\n * @property {String} [message]\r\n * @property {String} [sticker]\r\n * @property {String} [originalUrl]\r\n * @property {String} [thumbnailUrl]\r\n * @property {String} [width]\r\n * @property {String} [height]\r\n * @property {String} [latitude]\r\n * @property {String} [longitude]\r\n * @property {String} [duration]\r\n * @property {String} [extra]\r\n * @property {String} [reply]\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/MessageInfo.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 182,
    "kind": "typedef",
    "name": "MessageInfo",
    "memberof": "src/typedef/MessageInfo.js",
    "static": true,
    "longname": "src/typedef/MessageInfo.js~MessageInfo",
    "access": "public",
    "description": "丟什麼進去就會吐什麼出來，it's very free~~~",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "messageType",
        "description": "'text', 'image', 'video', 'audio', 'location', 'sticker',\n'joinRoom', 'leaveRoom', 'addMember', 'deleteMember'"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "message",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "sticker",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "originalUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "thumbnailUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "width",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "height",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "latitude",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "longitude",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "duration",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "extra",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "reply",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "MessageInfo"
    }
  },
  {
    "__docId__": 183,
    "kind": "file",
    "name": "src/typedef/Push.js",
    "content": "/**\r\n * @typedef {Object} PushPayload\r\n * @property {String} topic\r\n * @property {Number} badge\r\n * @property {String} sound\r\n * @property {String} nickname\r\n * @property {String} title\r\n * @property {String} collapseKey\r\n * @property {String} body\r\n * @property {String} icon\r\n * @property {String} sample-type:sample\r\n * @property {Object} alert\r\n * @property {String} alert.loc-key\r\n * @property {String[]} alert.loc-args\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/Push.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 184,
    "kind": "typedef",
    "name": "PushPayload",
    "memberof": "src/typedef/Push.js",
    "static": true,
    "longname": "src/typedef/Push.js~PushPayload",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "topic",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "badge",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sound",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "nickname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "collapseKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "body",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "icon",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "sample-type:sample",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "alert",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "alert.loc-key",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "alert.loc-args",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PushPayload"
    }
  },
  {
    "__docId__": 185,
    "kind": "file",
    "name": "src/typedef/RoomData.js",
    "content": "/**\r\n * @typedef {Object} RoomData\r\n * @property {String} _id\r\n * @property {String} appID 房間 ID\r\n * @property {MessageData} lastMessage 最後一則訊息\r\n * @property {String} name Room name\r\n * @property {Number} serviceStatus\r\n * @property {String} createdTime ex: 2018-05-21T08:41:28.438Z\r\n * @property {Object[]} memberProperties 會員已讀狀態\r\n * @property {Number} memberProperties.badge\r\n * @property {String} memberProperties.lastRead\r\n * @property {String} memberProperties.client\r\n * @property {Object[]} members 會員列表\r\n * @property {String} members[].id\r\n * @property {String} members[].avatarUrl\r\n * @property {String} members[].nickname\r\n * @property {String} members[].lastLoginTime\r\n * @property {Number} members[].lastLoginTimeMS\r\n * @property {Number} members[].publicKey\r\n * @property {Boolean} muted 是否靜音\r\n * @property {Number} createdTimeMS ex: 1526892088438\r\n * @property {String} id 房間 ID\r\n * @property {String} [roomType] 房間 type, \"direct\" or \"group\"\r\n * @property {Boolean} [encrypted] 房間訊息是否加密\r\n * @property {RoomPref} [pref] 房間個人資訊\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/RoomData.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 186,
    "kind": "typedef",
    "name": "RoomData",
    "memberof": "src/typedef/RoomData.js",
    "static": true,
    "longname": "src/typedef/RoomData.js~RoomData",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "_id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "appID",
        "description": "房間 ID"
      },
      {
        "nullable": null,
        "types": [
          "MessageData"
        ],
        "spread": false,
        "optional": false,
        "name": "lastMessage",
        "description": "最後一則訊息"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Room name"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "serviceStatus",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "createdTime",
        "description": "ex: 2018-05-21T08:41:28.438Z"
      },
      {
        "nullable": null,
        "types": [
          "Object[]"
        ],
        "spread": false,
        "optional": false,
        "name": "memberProperties",
        "description": "會員已讀狀態"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "memberProperties.badge",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "memberProperties.lastRead",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "memberProperties.client",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object[]"
        ],
        "spread": false,
        "optional": false,
        "name": "members",
        "description": "會員列表"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].avatarUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].nickname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].lastLoginTime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].lastLoginTimeMS",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "members[].publicKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "muted",
        "description": "是否靜音"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "createdTimeMS",
        "description": "ex: 1526892088438"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "房間 ID"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "roomType",
        "description": "房間 type, \"direct\" or \"group\""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "encrypted",
        "description": "房間訊息是否加密"
      },
      {
        "nullable": null,
        "types": [
          "RoomPref"
        ],
        "spread": false,
        "optional": true,
        "name": "pref",
        "description": "房間個人資訊"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RoomData"
    }
  },
  {
    "__docId__": 187,
    "kind": "file",
    "name": "src/typedef/RoomPref.js",
    "content": "/**\r\n * @typedef {Object} RoomPref\r\n * @property {String[]} [tags]\r\n * @property {String} [folder] 房間所屬資料夾\r\n * @property {Boolean} [muted] 是否靜音\r\n * @property {Boolean} [sticky] 是否置頂\r\n * @property {Boolean} [hidden] 是否隱藏\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/RoomPref.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 188,
    "kind": "typedef",
    "name": "RoomPref",
    "memberof": "src/typedef/RoomPref.js",
    "static": true,
    "longname": "src/typedef/RoomPref.js~RoomPref",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "tags",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "folder",
        "description": "房間所屬資料夾"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "muted",
        "description": "是否靜音"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "sticky",
        "description": "是否置頂"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "hidden",
        "description": "是否隱藏"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RoomPref"
    }
  },
  {
    "__docId__": 189,
    "kind": "file",
    "name": "src/typedef/SocketConfig.js",
    "content": "/**\n * When Socket Receive Message\n * @name SocketOnReceiveMessageFunction\n * @function\n * @param {MessageData} message\n */\n/**\n * @typedef {Object} SocketConfig\n * @property {String} domain\n * @property {String} [clientId]\n * @property {String} [token]\n * @property {String} [privateKey]\n * @property {Object} [events]\n * @property {function(error: Object)} [events.onAjaxError]\n * @property {function()} [onConnect]\n * @property {function()} [onDisconnect]\n * @property {function(message: MessageData)} [onReceiveMessage]\n * @property {function(room: {room: String, memberProperty: {badge: Number, client: String, lastRead: String}[]})} [onReceiveRoom]\n * @property {function(typing: {message: String, room: String, sender: String})} [onReceiveTyping]\n * @property {function(data: {messageID: String, roomID: String, memberID: String})} [onReceivelastRead]\n * @property {function(data: {room: String, folder: String, hidden: Boolean, muted: Boolean, sticky: Boolean, tags: String[]})} [onReceiveRoomPref]\n * @property {function(data: Object)} [onReceiveMyPrefChange]\n * @property {function(data: String)} [onReceiveMyPrefDelete]\n */\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/SocketConfig.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 190,
    "kind": "typedef",
    "name": "SocketConfig",
    "memberof": "src/typedef/SocketConfig.js",
    "static": true,
    "longname": "src/typedef/SocketConfig.js~SocketConfig",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "domain",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "clientId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "token",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "privateKey",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "events",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(error: Object)"
        ],
        "spread": false,
        "optional": true,
        "name": "events.onAjaxError",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function()"
        ],
        "spread": false,
        "optional": true,
        "name": "onConnect",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function()"
        ],
        "spread": false,
        "optional": true,
        "name": "onDisconnect",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(message: MessageData)"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveMessage",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(room: {room: String, memberProperty: {badge: Number, client: String, lastRead: String}[]})"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveRoom",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(typing: {message: String, room: String, sender: String})"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveTyping",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(data: {messageID: String, roomID: String, memberID: String})"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceivelastRead",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(data: {room: String, folder: String, hidden: Boolean, muted: Boolean, sticky: Boolean, tags: String[]})"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveRoomPref",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(data: Object)"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveMyPrefChange",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(data: String)"
        ],
        "spread": false,
        "optional": true,
        "name": "onReceiveMyPrefDelete",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SocketConfig"
    }
  },
  {
    "__docId__": 191,
    "kind": "file",
    "name": "src/typedef/TokenData.js",
    "content": "/**\r\n * @typedef {Object} TokenData\r\n * @property {String} [_id]\r\n * @property {String} token\r\n * @property {String} client\r\n * @property {String} expirationDate\r\n * @property {Number} expirationDateMS\r\n * @property {String} [id]\r\n */\r\n",
    "static": true,
    "longname": "E:/REPO/IMKit/IMKit-Chat-v3/imkit-js-api-v3/src/typedef/TokenData.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 192,
    "kind": "typedef",
    "name": "TokenData",
    "memberof": "src/typedef/TokenData.js",
    "static": true,
    "longname": "src/typedef/TokenData.js~TokenData",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "_id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "client",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "expirationDate",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "expirationDateMS",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "id",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "TokenData"
    }
  },
  {
    "kind": "index",
    "content": "# Imkit Js Api v3\n\n描述描述\n\n## Installing\n\n### NodeJs\n\n```sh\n$ npm install --save https://github.com/imkit/imkit-js-lib\n```\n\n## Use\n\n### NodeJs\n\n```javascript\nimport { IMKitApi, IMKitSocket } from 'imkit-js-api-v3';\n\nlet api = new IMKitApi(apiConfig);\nlet socket = new IMKitSocket(socketConfig);\n```\n\n### CDN\n\n```html\n<script src=\"https://cdn.jsdelivr.net/gh/imkit/imkit-js-lib/lib/imkit-js-api-v3.web.js\"></script>\n```\n\n```javascript\nlet api = new IMKitApi(apiConfig);\nlet socket = new IMKitSocket(socketConfig);\n```\n",
    "longname": "E:\\REPO\\IMKit\\IMKit-Chat-v3\\imkit-js-api-v3\\README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"imkit-js-api-v3\",\n  \"version\": \"3.0.4\",\n  \"description\": \"\",\n  \"main\": \"src/index.js\",\n  \"scripts\": {\n    \"build\": \"webpack --env build\",\n    \"dev\": \"webpack --progress --colors --watch --env dev\",\n    \"test\": \"mocha --require babel-register --colors ./test/*.spec.js\",\n    \"test:watch\": \"mocha --require babel-register --colors -w ./test/*.spec.js\",\n    \"test:api\": \"mocha --require babel-register --colors ./test/api.spec.js\",\n    \"test:socket\": \"mocha --require babel-register --colors ./test/socket.spec.js\",\n    \"doc\": \"./node_modules/.bin/esdoc\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"\"\n  },\n  \"keywords\": [],\n  \"author\": \"Gagu\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://\"\n  },\n  \"homepage\": \"https://\",\n  \"devDependencies\": {\n    \"@babel/cli\": \"^7.4.4\",\n    \"@babel/core\": \"^7.4.5\",\n    \"@babel/preset-env\": \"^7.4.5\",\n    \"babel-eslint\": \"^8.0.3\",\n    \"babel-loader\": \"^8.0.6\",\n    \"babel-plugin-add-module-exports\": \"^0.2.1\",\n    \"babel-preset-env\": \"^7.0.0-beta.3\",\n    \"babel-register\": \"^7.0.0-beta.3\",\n    \"chai\": \"^4.2.0\",\n    \"esdoc\": \"^1.1.0\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"eslint\": \"^5.16.0\",\n    \"eslint-loader\": \"^2.1.2\",\n    \"jsdom\": \"11.11.0\",\n    \"jsdom-global\": \"3.0.2\",\n    \"mocha\": \"^4.0.1\",\n    \"uglifyjs-webpack-plugin\": \"^1.3.0\",\n    \"webpack\": \"^4.32.2\",\n    \"webpack-cli\": \"^3.3.2\",\n    \"yargs\": \"^10.0.3\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^0.18.0\",\n    \"crypto-js\": \"^3.1.9-1\",\n    \"node-forge\": \"^0.8.5\",\n    \"socket.io-client\": \"^2.2.0\"\n  }\n}\n",
    "longname": "E:\\REPO\\IMKit\\IMKit-Chat-v3\\imkit-js-api-v3\\package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]